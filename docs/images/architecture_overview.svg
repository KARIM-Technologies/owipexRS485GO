<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="800" height="450" xmlns="http://www.w3.org/2000/svg">
  <!-- Hintergrund -->
  <rect width="800" height="450" fill="#f8f9fa" />
  
  <!-- Titel -->
  <text x="400" y="40" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">
    OWIPEX_SAM_2.0 Systemarchitektur
  </text>
  
  <!-- Edge Layer (OWIPEX_SAM_2.0) -->
  <rect x="50" y="100" width="200" height="280" rx="10" ry="10" fill="#e1f5fe" stroke="#0288d1" stroke-width="2" />
  <text x="150" y="130" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#0288d1">
    Edge Layer
  </text>
  <text x="150" y="155" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">
    (OWIPEX_SAM_2.0)
  </text>
  
  <!-- Edge Components -->
  <rect x="70" y="180" width="160" height="40" rx="5" ry="5" fill="#bbdefb" stroke="#0288d1" stroke-width="1" />
  <text x="150" y="205" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">
    Sensor Kommunikation
  </text>
  
  <rect x="70" y="230" width="160" height="40" rx="5" ry="5" fill="#bbdefb" stroke="#0288d1" stroke-width="1" />
  <text x="150" y="255" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">
    Lokale Verarbeitung
  </text>
  
  <rect x="70" y="280" width="160" height="40" rx="5" ry="5" fill="#bbdefb" stroke="#0288d1" stroke-width="1" />
  <text x="150" y="305" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">
    Daten-Zwischenspeicher
  </text>
  
  <rect x="70" y="330" width="160" height="40" rx="5" ry="5" fill="#bbdefb" stroke="#0288d1" stroke-width="1" />
  <text x="150" y="355" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">
    Ger채testeuerung
  </text>
  
  <!-- Middleware Layer (Redis/MQTT) -->
  <rect x="300" y="100" width="200" height="280" rx="10" ry="10" fill="#e8f5e9" stroke="#388e3c" stroke-width="2" />
  <text x="400" y="130" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#388e3c">
    Datenschicht
  </text>
  <text x="400" y="155" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">
    (Redis/MQTT)
  </text>
  
  <!-- Middleware Components -->
  <rect x="320" y="180" width="160" height="40" rx="5" ry="5" fill="#c8e6c9" stroke="#388e3c" stroke-width="1" />
  <text x="400" y="205" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">
    Message Broker
  </text>
  
  <rect x="320" y="230" width="160" height="40" rx="5" ry="5" fill="#c8e6c9" stroke="#388e3c" stroke-width="1" />
  <text x="400" y="255" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">
    Zeitreihen-Datenbank
  </text>
  
  <rect x="320" y="280" width="160" height="40" rx="5" ry="5" fill="#c8e6c9" stroke="#388e3c" stroke-width="1" />
  <text x="400" y="305" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">
    Konfigurationsspeicher
  </text>
  
  <rect x="320" y="330" width="160" height="40" rx="5" ry="5" fill="#c8e6c9" stroke="#388e3c" stroke-width="1" />
  <text x="400" y="355" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">
    Daten-Backup
  </text>
  
  <!-- Cloud Layer (ThingsBoard) -->
  <rect x="550" y="100" width="200" height="280" rx="10" ry="10" fill="#fce4ec" stroke="#c2185b" stroke-width="2" />
  <text x="650" y="130" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#c2185b">
    Cloud Layer
  </text>
  <text x="650" y="155" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">
    (ThingsBoard)
  </text>
  
  <!-- Cloud Components -->
  <rect x="570" y="180" width="160" height="40" rx="5" ry="5" fill="#f8bbd0" stroke="#c2185b" stroke-width="1" />
  <text x="650" y="205" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">
    Echtzeit-Dashboard
  </text>
  
  <rect x="570" y="230" width="160" height="40" rx="5" ry="5" fill="#f8bbd0" stroke="#c2185b" stroke-width="1" />
  <text x="650" y="255" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">
    Alarmierung
  </text>
  
  <rect x="570" y="280" width="160" height="40" rx="5" ry="5" fill="#f8bbd0" stroke="#c2185b" stroke-width="1" />
  <text x="650" y="305" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">
    Datenanalyse
  </text>
  
  <rect x="570" y="330" width="160" height="40" rx="5" ry="5" fill="#f8bbd0" stroke="#c2185b" stroke-width="1" />
  <text x="650" y="355" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">
    Fernsteuerung
  </text>
  
  <!-- Pfeile f체r Datenfluss -->
  <!-- Edge to Middleware -->
  <line x1="250" y1="150" x2="300" y2="150" stroke="#333" stroke-width="2" />
  <polygon points="290,145 300,150 290,155" fill="#333" />
  <line x1="250" y1="200" x2="300" y2="200" stroke="#333" stroke-width="2" />
  <polygon points="290,195 300,200 290,205" fill="#333" />
  <line x1="250" y1="320" x2="300" y2="320" stroke="#333" stroke-width="2" />
  <polygon points="290,315 300,320 290,325" fill="#333" />
  
  <!-- Middleware to Cloud -->
  <line x1="500" y1="150" x2="550" y2="150" stroke="#333" stroke-width="2" />
  <polygon points="540,145 550,150 540,155" fill="#333" />
  <line x1="500" y1="250" x2="550" y2="250" stroke="#333" stroke-width="2" />
  <polygon points="540,245 550,250 540,255" fill="#333" />
  <line x1="500" y1="320" x2="550" y2="320" stroke="#333" stroke-width="2" />
  <polygon points="540,315 550,320 540,325" fill="#333" />
  
  <!-- Cloud to Middleware (R체ckkanal) -->
  <line x1="550" y1="200" x2="500" y2="200" stroke="#333" stroke-width="2" stroke-dasharray="5,5" />
  <polygon points="510,195 500,200 510,205" fill="#333" />
  <line x1="550" y1="350" x2="500" y2="350" stroke="#333" stroke-width="2" stroke-dasharray="5,5" />
  <polygon points="510,345 500,350 510,355" fill="#333" />
  
  <!-- Middleware to Edge (R체ckkanal) -->
  <line x1="300" y1="250" x2="250" y2="250" stroke="#333" stroke-width="2" stroke-dasharray="5,5" />
  <polygon points="260,245 250,250 260,255" fill="#333" />
  <line x1="300" y1="350" x2="250" y2="350" stroke="#333" stroke-width="2" stroke-dasharray="5,5" />
  <polygon points="260,345 250,350 260,355" fill="#333" />
  
  <!-- Sensoren links -->
  <rect x="10" y="160" width="30" height="150" rx="5" ry="5" fill="#fff" stroke="#333" stroke-width="1" />
  <text x="25" y="235" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333" transform="rotate(-90,25,235)">
    Industrie-Sensoren (RS485)
  </text>
  <line x1="40" y1="200" x2="70" y2="200" stroke="#333" stroke-width="1" />
  <polygon points="60,195 70,200 60,205" fill="#333" />
  <line x1="40" y1="250" x2="70" y2="250" stroke="#333" stroke-width="1" />
  <polygon points="60,245 70,250 60,255" fill="#333" />
  
  <!-- Benutzer rechts -->
  <circle cx="765" y="235" r="25" fill="#fff" stroke="#333" stroke-width="1" />
  <circle cx="765" y="220" r="7" fill="#333" />
  <path d="M745,255 Q765,270 785,255" stroke="#333" stroke-width="1" fill="none" />
  <line x1="765" y1="227" x2="765" y2="245" stroke="#333" stroke-width="1" />
  <line x1="765" y1="245" x2="750" y2="270" stroke="#333" stroke-width="1" />
  <line x1="765" y1="245" x2="780" y2="270" stroke="#333" stroke-width="1" />
  <line x1="750" y1="235" x2="730" y2="235" stroke="#333" stroke-width="1" />
  <polygon points="740,230 730,235 740,240" fill="#333" />
  <line x1="740" y1="210" x2="730" y2="200" stroke="#333" stroke-width="1" />
  <polygon points="737,204 730,200 733,210" fill="#333" />
  
  <!-- Legende -->
  <rect x="60" y="400" width="15" height="15" fill="#e1f5fe" stroke="#0288d1" stroke-width="1" />
  <text x="85" y="412" font-family="Arial, sans-serif" font-size="12" fill="#333">Edge-Verarbeitung</text>
  
  <rect x="200" y="400" width="15" height="15" fill="#e8f5e9" stroke="#388e3c" stroke-width="1" />
  <text x="225" y="412" font-family="Arial, sans-serif" font-size="12" fill="#333">Datenverwaltung</text>
  
  <rect x="340" y="400" width="15" height="15" fill="#fce4ec" stroke="#c2185b" stroke-width="1" />
  <text x="365" y="412" font-family="Arial, sans-serif" font-size="12" fill="#333">Cloud-Dienste</text>
  
  <line x1="460" y1="407" x2="490" y2="407" stroke="#333" stroke-width="2" />
  <polygon points="480,402 490,407 480,412" fill="#333" />
  <text x="520" y="412" font-family="Arial, sans-serif" font-size="12" fill="#333">Datenfluss</text>
  
  <line x1="580" y1="407" x2="610" y2="407" stroke="#333" stroke-width="2" stroke-dasharray="5,5" />
  <polygon points="590,402 580,407 590,412" fill="#333" />
  <text x="650" y="412" font-family="Arial, sans-serif" font-size="12" fill="#333">Steuerungsdaten</text>
</svg> 